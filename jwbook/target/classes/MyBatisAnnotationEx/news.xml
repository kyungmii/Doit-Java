<!-- MyBatisAnnotationEx/NewsMapper.xml -->
<mapper namespace="MyBatisAnnotationEx.NewsMapper">
	<insert id="addNews" parameterType="ch10.vo.NewsDO">
		INSERT INTO news(title, img, date, content)
		VALUES(#{title}, #{img}, CURRENT_TIMESTAMP(), #{content})
	</insert>

	<select id="getAll" resultType="ch10.vo.NewsDO">
		SELECT aid, title,
		FORMATDATETIME(date, 'yyyy-MM-dd HH:mm:ss') AS cdate
		FROM news
	</select>

	<select id="getNews" resultType="ch10.vo.NewsDO"
		parameterType="int">
		SELECT aid, title, img,
		FORMATDATETIME(date, 'yyyy-MM-dd HH:mm:ss') AS cdate,
		content
		FROM news
		WHERE aid=#{aid}
	</select>

	<delete id="delNews" parameterType="int">
		DELETE FROM news WHERE aid=#{aid}
	</delete>
</mapper>
